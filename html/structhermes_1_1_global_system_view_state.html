<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hermes: hermes::GlobalSystemViewState Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hermes
   &#160;<span id="projectnumber">0.8.0-beta</span>
   </div>
   <div id="projectbrief">I/O Buffering System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('structhermes_1_1_global_system_view_state.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structhermes_1_1_global_system_view_state-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">hermes::GlobalSystemViewState Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="metadata__management_8h_source.html">metadata_management.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for hermes::GlobalSystemViewState:</div>
<div class="dyncontent">
<div class="center"><img src="structhermes_1_1_global_system_view_state__coll__graph.png" border="0" usemap="#hermes_1_1_global_system_view_state_coll__map" alt="Collaboration graph"/></div>
<map name="hermes_1_1_global_system_view_state_coll__map" id="hermes_1_1_global_system_view_state_coll__map">
<area shape="rect" title=" " alt="" coords="5,95,208,136"/>
<area shape="rect" href="structhermes_1_1_thresholds.html" title=" " alt="" coords="31,5,182,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ae749e5178abb720bf0da460026ca0dfc"><td class="memItemLeft" align="right" valign="top">u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhermes_1_1_global_system_view_state.html#ae749e5178abb720bf0da460026ca0dfc">num_targets</a></td></tr>
<tr class="separator:ae749e5178abb720bf0da460026ca0dfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fd1f56ab7953b7dc82fd6018151449e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhermes_1_1_global_system_view_state.html#a3fd1f56ab7953b7dc82fd6018151449e">num_devices</a></td></tr>
<tr class="separator:a3fd1f56ab7953b7dc82fd6018151449e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affafd1d817e237442031dc11c7ae3b31"><td class="memItemLeft" align="right" valign="top"><a id="affafd1d817e237442031dc11c7ae3b31"></a>
u64&#160;</td><td class="memItemRight" valign="bottom"><b>capacities</b> [kMaxDevices]</td></tr>
<tr class="separator:affafd1d817e237442031dc11c7ae3b31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a1669389d616566c8f9efbc903ae369"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; u64 &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhermes_1_1_global_system_view_state.html#a6a1669389d616566c8f9efbc903ae369">bytes_available</a></td></tr>
<tr class="separator:a6a1669389d616566c8f9efbc903ae369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a270e9f046c930850f483bca5d3e14c31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structhermes_1_1_thresholds.html">Thresholds</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhermes_1_1_global_system_view_state.html#a270e9f046c930850f483bca5d3e14c31">bo_capacity_thresholds</a> [kMaxDevices]</td></tr>
<tr class="separator:a270e9f046c930850f483bca5d3e14c31"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A snapshot view of the entire system's Targets' available capacities.</p>
<p>This information is only stored on 1 node, designated by MetadataManager::global_system_view_state_node_id, and is only updated by 1 rank (the Hermes process on that node). Hence, it does not need to be stored in shared memory and we are able to use normal std containers. However, since multiple RPC handler threads can potentially update the <code>bytes_available</code> field concurrently, we must not do any operations on the vector itself. We can only do operations on the atomics within. The vector is created in StartGlobalSystemViewStateUpdateThread, and thereafter we can only call functions on the individual atomics (e.g., bytes_available[i].fetch_add), which is thread safe. </p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="a270e9f046c930850f483bca5d3e14c31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a270e9f046c930850f483bca5d3e14c31">&#9670;&nbsp;</a></span>bo_capacity_thresholds</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structhermes_1_1_thresholds.html">Thresholds</a> hermes::GlobalSystemViewState::bo_capacity_thresholds[kMaxDevices]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The min and max capacity thresholds (percentage) for each <a class="el" href="structhermes_1_1_target.html">Target</a> in the system </p>

</div>
</div>
<a id="a6a1669389d616566c8f9efbc903ae369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a1669389d616566c8f9efbc903ae369">&#9670;&nbsp;</a></span>bytes_available</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;u64&gt;* hermes::GlobalSystemViewState::bytes_available</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The remaining capacity of each <a class="el" href="structhermes_1_1_target.html">Target</a> in the system </p>

</div>
</div>
<a id="a3fd1f56ab7953b7dc82fd6018151449e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fd1f56ab7953b7dc82fd6018151449e">&#9670;&nbsp;</a></span>num_devices</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hermes::GlobalSystemViewState::num_devices</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The number of devices per node </p>

</div>
</div>
<a id="ae749e5178abb720bf0da460026ca0dfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae749e5178abb720bf0da460026ca0dfc">&#9670;&nbsp;</a></span>num_targets</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u64 hermes::GlobalSystemViewState::num_targets</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The total number of buffering Targets in the system </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>/home/runner/work/hermes/hermes/src/<a class="el" href="metadata__management_8h_source.html">metadata_management.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>hermes</b></li><li class="navelem"><a class="el" href="structhermes_1_1_global_system_view_state.html">GlobalSystemViewState</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
